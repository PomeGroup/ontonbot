  giveaway-checker:
    container_name: ${ENV}-giveaway-checker
    build:
      context: ./giveaway-checker
      dockerfile: Dockerfile
    restart: unless-stopped
    profiles:
      - full
    depends_on:
      - postgres
    environment:
        <<: *common-env
    networks:
      onton-network:
        ipv4_address: "${IP_GIVEAWAY_CHECKER}"

  golang-server:
    container_name: ${ENV}-golang-server
    build:
      context: ./golang-server
      dockerfile: ./server/Dockerfile
    restart: unless-stopped
    ports:
      - "${GOLANG_SERVER_PORT}:${GOLANG_SERVER_PORT}"
    profiles:
      - expecting-mini-app
      - full
    depends_on:
      - redis
    environment:
      <<: *common-env
    networks:
      onton-network:
        ipv4_address: ${IP_GOLANG_SERVER}

  golang-worker:
    container_name: ${ENV}-golang-worker
    build:
      context: ./golang-server
      dockerfile: ./worker/Dockerfile
    restart: unless-stopped
    profiles:
      - expecting-mini-app
      - full
    depends_on:
      - redis
    environment:
        <<: *common-env
    networks:
      onton-network:
        ipv4_address: ${IP_GOLANG_WORKER}